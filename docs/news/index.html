<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • boundr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">boundr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>

    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.7" id="boundr-v037-august-11-2024">boundr v0.3.7 (August 11, 2024)<a class="anchor" aria-label="anchor" href="#boundr-v037-august-11-2024"></a></h2>
<ul><li>Improves the behaviour of <code><a href="../reference/bounds.html">bounds()</a></code> and <code><a href="../reference/points.html">points()</a></code> by making it less likely that a lookup table will be created that does not match a geo data field</li>
<li>Internally, shared code within <code><a href="../reference/bounds.html">bounds()</a></code> and <code><a href="../reference/points.html">points()</a></code> has been refactored out into a common function (not user-facing), making <code><a href="../reference/bounds.html">bounds()</a></code> and <code><a href="../reference/points.html">points()</a></code> more like wrapper functions.</li>
<li>Several helper functions have been tidied up and some unnecessary duplication of functionality across helpers for lookup table creation and spatial data retrieval has been removed, making fewer and leaner helper functions and removing a chunk of code from the package.</li>
<li>
<a href="https://cli.r-lib.org" class="external-link">cli</a> has been used to produce user-facing error messages, in place of <a href="https://usethis.r-lib.org" class="external-link">usethis</a>.</li>
<li>The function that allows the user to supply their own lookup table and have <a href="https://github.com/francisbarton/boundr" class="external-link">boundr</a> automatically add geo data to it to create an <code>sfc</code> object has now been improved and should be functional as intended.</li>
<li>Linting has been added to the development process through the adoption of <a href="https://github.com/r-lib/lintr" class="external-link">lintr</a>.</li>
<li>The convoluted process for handling MSOA-based lookups has now been obviated entirely - the ONS site now seems to support MSOA-based lookups much better.</li>
<li>Internal copy of the schema data updated.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.6" id="boundr-v036-november-15-2023">boundr v0.3.6 (November 15, 2023)<a class="anchor" aria-label="anchor" href="#boundr-v036-november-15-2023"></a></h2>
<ul><li>Enables <code><a href="../reference/bounds.html">bounds()</a></code> query to shortcut the lookup table step and just return all boundaries at that level (just call the function with a single <code>lookup</code> argument)</li>
<li>Improved README with examples</li>
<li>Added pkgdown site, thanks to Tom Smith (closes issue ## boundr v2)</li>
<li>Improve some function param documentation</li>
<li>Update schema data (10 Nov 2023)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.5" id="boundr-v035-june-24-2023">boundr v0.3.5 (June 24, 2023)<a class="anchor" aria-label="anchor" href="#boundr-v035-june-24-2023"></a></h2>
<ul><li>Some work to improve the handling of MSOA queries</li>
<li>Create <code><a href="../reference/points.html">points()</a></code> function to handle centroids queries more neatly</li>
<li>Update package internal data (mirror of ONS API schema)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.4" id="boundr-v034-as-at-may-3-2023">boundr v0.3.4 (as at May 3, 2023)<a class="anchor" aria-label="anchor" href="#boundr-v034-as-at-may-3-2023"></a></h2>
<ul><li>Deleted all tests as they were useless. Will start again from scratch.</li>
<li>Added <code>add_bounds_to_table()</code> function - for when you already have a lookup table and you just want to add geo data to it. It uses the lefthandmost column as the source for the geometry codes, so if they are not there it will just fail - that’s for the user to sort out.</li>
<li>This version adds centroid support and some fixes to the MSOA-LSOA-MSOA round trip hack</li>
<li>The opengeo_schema internal data object has been refreshed</li>
<li>I can’t remember what happened to 0.3.3</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2" id="boundr-v032-february-25-2023">boundr v0.3.2 (February 25, 2023)<a class="anchor" aria-label="anchor" href="#boundr-v032-february-25-2023"></a></h2>
<ul><li>After a lot of intervals of not working on this very much, I have finally pushed a lot of further work on the new style. The package is now named <code>boundr</code> and the work has been done in the main branch.</li>
<li>Functions are now better documented and the core workflow is quite nice now.</li>
<li>Basic tests are written but further tests of core behaviours need to be written still.</li>
<li>TODO: Make centroid queries eg MSOA centroids work</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="boundr-v030-january-18-2022">boundr v0.3.0 (January 18, 2022)<a class="anchor" aria-label="anchor" href="#boundr-v030-january-18-2022"></a></h2>
<ul><li>Rebuilt whole program around a schema approach (git branch: <code>schema</code>)</li>
<li>It’s rough but it sort of works for now.</li>
<li>TODO: Make MSOA queries work (not supported by ONS lookups)</li>
<li>TODO: Function documentation</li>
<li>TODO: Testing and undoubtedly more fixes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.20" id="boundr-v0220-november-30-2021">boundr v0.2.20 (November 30, 2021)<a class="anchor" aria-label="anchor" href="#boundr-v0220-november-30-2021"></a></h2>
<ul><li>Updates to API addresses, mostly relating to more area codes moving to 2021 codes</li>
<li>used package doc file for %&gt;% and other imports, and removed pipe.Rd etc</li>
<li>Still some bugs that need fixing</li>
<li>TODO I need to write more tests!</li>
<li>TODO build local copy of whole API schema and work out a way of querying that rather than manually updating URLs and codes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.16" id="boundr-v0216">boundr v0.2.16<a class="anchor" aria-label="anchor" href="#boundr-v0216"></a></h2>
<ul><li>Simplifies <code>treat_results</code> routine and use of <code>oa_lad21_lookup</code> custom lookup</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.15" id="boundr-v0215">boundr v0.2.15<a class="anchor" aria-label="anchor" href="#boundr-v0215"></a></h2>
<ul><li>Fixes internal data issue where datasets weren’t being found</li>
<li>Adds more internal datasets to internal package data</li>
<li>Upgrades LAD boundaries query to 2021 boundaries</li>
<li>Simplifies LSOA:MSOA lookup by using internal data for HoCL names CSV</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.13" id="boundr-v0213">boundr v0.2.13<a class="anchor" aria-label="anchor" href="#boundr-v0213"></a></h2>
<ul><li>Fixes a bug where <code>within_cd</code> and <code>return_style = minimal</code> – a non-functional combination – was allowed through.</li>
<li>Fixes an earlier mistake where I thought that all API URLs were “FeatureServer” now - but centroid queries still need “MapServer”.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.12" id="boundr-v0212">boundr v0.2.12<a class="anchor" aria-label="anchor" href="#boundr-v0212"></a></h2>
<ul><li>Enables population-weighted centroid queries for OA and LSOA as well as MSOA now</li>
<li>Fixes OA:LAD queries returning wards as intermediate levels instead of MSOAs</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.11" id="boundr-v0211">boundr v0.2.11<a class="anchor" aria-label="anchor" href="#boundr-v0211"></a></h2>
<ul><li>Removes the <code>returnGeometry</code> option previously added, as this was seemingly causing a problem with centroid retrieval? I don’t think it was really needed anyway</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.10" id="boundr-v0210">boundr v0.2.10<a class="anchor" aria-label="anchor" href="#boundr-v0210"></a></h2>
<ul><li>adds the ability to retrieve lookups and geometries at a single level, i.e. where <code>bounds_level</code> and <code>within_level</code> are the same.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.9.5" id="boundr-v0295">boundr v0.2.9.5<a class="anchor" aria-label="anchor" href="#boundr-v0295"></a></h2>
<ul><li>tweaks to make the <code>within_cd</code> parameter actually work (I don’t think I had tested this properly before).</li>
<li>some tweaks to how the query URL string is built, replacing <code>%3D</code> with plain <code>=</code>. In attempt to simplify error-hunting. But worried that this may not work with all endpoints. Had to do some tweaking to get OA:WD lookup to work.</li>
<li>changes to the <code>extract_lookup</code> function as the previous <code>pluck</code> call did not always work. New combination of <code>pluck</code> and <code>map_df</code> hopefully will work OK. But again, worried that this may break things that were previously working.</li>
<li>This is why we should have proper tests in place, and I should be using git branches to test things I’m not sure about…</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.9.4" id="boundr-v0294">boundr v0.2.9.4<a class="anchor" aria-label="anchor" href="#boundr-v0294"></a></h2>
<ul><li>Added in result_type parameter to <code>build_api_query</code> as I noticed that some queries weren’t working properly. Turned out that lookups with more than 2000 results were being truncated. <a href="https://developers.arcgis.com/rest/services-reference/enterprise/query-feature-service-layer-.htm" class="external-link">The way to fix this</a> (see examples six and seven) is to specify a <code>resultType</code> of <code>"standard"</code> which allows responses up to 32,000 long. jogger’s spatial queries were already batched into batches of 25/50 so this didn’t come up as an issue.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.9.3" id="boundr-v0293">boundr v0.2.9.3<a class="anchor" aria-label="anchor" href="#boundr-v0293"></a></h2>
<ul><li>Further build_api tweaks</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.9.2" id="boundr-v0292">boundr v0.2.9.2<a class="anchor" aria-label="anchor" href="#boundr-v0292"></a></h2>
<ul><li>update and fix examples</li>
<li>update and re-knit README.Rmd</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francis Barton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

