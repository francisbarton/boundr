<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Retrieve Area Boundaries and Data from the ONS Open Geography Portal • boundr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Retrieve Area Boundaries and Data from the ONS Open Geography Portal">
<meta name="description" content="The main purpose of this package is to download area lookups and boundaries (in GeoJSON format) using the ONS Open Geography API, for all areas at a specified level within a specified area.">
<meta property="og:description" content="The main purpose of this package is to download area lookups and boundaries (in GeoJSON format) using the ONS Open Geography API, for all areas at a specified level within a specified area.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">boundr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="welcome-to-boundr">welcome to boundr<a class="anchor" aria-label="anchor" href="#welcome-to-boundr"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<div class="section level3">
<h3 id="retrieve-area-boundaries-and-data-from-the-ons-open-geography-portal">Retrieve area boundaries and data from the ONS Open Geography Portal<a class="anchor" aria-label="anchor" href="#retrieve-area-boundaries-and-data-from-the-ons-open-geography-portal"></a>
</h3>
<div style="display: flex; align-items: center;">
<div style="flex: 0 0 auto; margin-right: 20px;">
<p><img src="boundr_hex_logo.png" style="height: 300px; width: 259px;" alt="The boundr package hexagonal logo - the word boundr superimposed on a cropped map of the Isles of Scilly, with the island parishes differently coloured, on a sea blue background."></p>
</div>
<div>
<p>The main purpose of this package is to download area lookups and boundaries to R tables, using the ONS Open Geography API, for all areas at a specified level within a specified area.</p>
<p>The main script <code><a href="reference/bounds.html">bounds()</a></code> will return a data frame with the sub-area geometry column, as an <code>sf</code> object ready to be visualised as a map.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install this package from the <code>R</code> console by entering</p>
<blockquote>
<p>remotes::install_git(“<a href="https://codeberg.org/francisbarton/boundr" class="external-link uri">https://codeberg.org/francisbarton/boundr</a>”)</p>
</blockquote>
<p>if you have the <code>remotes</code> package installed.</p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="basic-lookup-of-areas-within-a-larger-area-by-name">Basic lookup of areas within a larger area, by name<a class="anchor" aria-label="anchor" href="#basic-lookup-of-areas-within-a-larger-area-by-name"></a>
</h3>
<p>Returns sfc tibble with latest available data</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span><span class="st">"msoa"</span>, <span class="st">"lad"</span>, <span class="st">"Swansea"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>Simple feature collection with <span class="dv">30</span> features and <span class="dv">7</span> fields</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>Geometry type<span class="sc">:</span> MULTIPOLYGON</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>Dimension<span class="sc">:</span>     XY</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>Bounding box<span class="sc">:</span>  xmin<span class="sc">:</span> <span class="sc">-</span><span class="fl">4.333587</span> ymin<span class="sc">:</span> <span class="fl">51.53577</span> xmax<span class="sc">:</span> <span class="sc">-</span><span class="fl">3.842747</span> ymax<span class="sc">:</span> <span class="fl">51.77423</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>Geodetic CRS<span class="sc">:</span>  WGS <span class="dv">84</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>First <span class="dv">10</span> features<span class="sc">:</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>    msoa21cd    msoa21nm    msoa21nmw            msoa21hclnm</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="dv">1</span>  W02000168 Swansea <span class="dv">001</span> Abertawe <span class="dv">001</span>          Pontarddulais</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="dv">2</span>  W02000169 Swansea <span class="dv">002</span> Abertawe <span class="dv">002</span>         Clydach <span class="sc">&amp;</span> Mawr</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="dv">3</span>  W02000170 Swansea <span class="dv">003</span> Abertawe <span class="dv">003</span>        Morriston North</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="dv">4</span>  W02000171 Swansea <span class="dv">004</span> Abertawe <span class="dv">004</span> Llangyfelach <span class="sc">&amp;</span> Tircoed</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="dv">5</span>  W02000172 Swansea <span class="dv">005</span> Abertawe <span class="dv">005</span>              Gorseinon</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="dv">6</span>  W02000173 Swansea <span class="dv">006</span> Abertawe <span class="dv">006</span>             Birchgrove</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="dv">7</span>  W02000174 Swansea <span class="dv">007</span> Abertawe <span class="dv">007</span>                Loughor</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="dv">8</span>  W02000175 Swansea <span class="dv">008</span> Abertawe <span class="dv">008</span>        Morriston South</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="dv">9</span>  W02000176 Swansea <span class="dv">009</span> Abertawe <span class="dv">009</span>            Mynydd<span class="sc">-</span>bach</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="dv">10</span> W02000177 Swansea <span class="dv">010</span> Abertawe <span class="dv">010</span>             Llansamlet</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>              msoa21hclnmw   lad24cd lad24nm                       geometry</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="dv">1</span>            Pontarddulais W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">4.044836</span> <span class="dv">5</span>...</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="dv">2</span>           Clydach a Mawr W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.976283</span> <span class="dv">5</span>...</span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="dv">3</span>         Gogledd Treforys W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.913253</span> <span class="dv">5</span>...</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="dv">4</span>  Llangyfelach a Thircoed W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">4.011018</span> <span class="dv">5</span>...</span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="dv">5</span>                Gorseinon W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">4.062941</span> <span class="dv">5</span>...</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="dv">6</span>                Gellifedw W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.875069</span> <span class="dv">5</span>...</span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="dv">7</span>               Casllwchwr W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">4.053356</span> <span class="dv">5</span>...</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="dv">8</span>              De Treforys W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.929819</span> <span class="dv">5</span>...</span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a><span class="dv">9</span>              Mynydd<span class="sc">-</span>bach W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.933911</span> <span class="dv">5</span>...</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a><span class="dv">10</span>              Llansamlet W06000011 Swansea <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.898853</span> <span class="dv">5</span>...</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="lookup-areas-with-older-dates">Lookup areas with older dates<a class="anchor" aria-label="anchor" href="#lookup-areas-with-older-dates"></a>
</h3>
<p>Trial and error may be required - or start by looking up what is available on the OpenGeography site.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span><span class="st">"msoa"</span>, <span class="st">"lad"</span>, <span class="st">"Shepway"</span>, lookup_year <span class="op">=</span> <span class="fl">2011</span>, within_year <span class="op">=</span> <span class="fl">2015</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>Simple feature collection with <span class="dv">14</span> features and <span class="dv">5</span> fields</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>Geometry type<span class="sc">:</span> POLYGON</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>Dimension<span class="sc">:</span>     XY</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>Bounding box<span class="sc">:</span>  xmin<span class="sc">:</span> <span class="fl">0.7770266</span> ymin<span class="sc">:</span> <span class="fl">50.91095</span> xmax<span class="sc">:</span> <span class="fl">1.221137</span> ymax<span class="sc">:</span> <span class="fl">51.205</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>Geodetic CRS<span class="sc">:</span>  WGS <span class="dv">84</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>First <span class="dv">10</span> features<span class="sc">:</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>    msoa11cd    msoa11nm                          msoa11hclnm   lad15cd lad15nm</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="dv">1</span>  E02005102 Shepway <span class="dv">001</span>             Lyminge, Densole <span class="sc">&amp;</span> Elham E07000112 Shepway</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="dv">2</span>  E02005103 Shepway <span class="dv">002</span>                             Hawkinge E07000112 Shepway</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="dv">3</span>  E02005104 Shepway <span class="dv">003</span>                Folkestone North East E07000112 Shepway</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="dv">4</span>  E02005105 Shepway <span class="dv">004</span>                     Folkestone Foord E07000112 Shepway</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="dv">5</span>  E02005106 Shepway <span class="dv">005</span>               Cheriton <span class="sc">&amp;</span> Horn Street E07000112 Shepway</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="dv">6</span>  E02005107 Shepway <span class="dv">006</span>       Folkestone Morehall <span class="sc">&amp;</span> Sandgate E07000112 Shepway</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="dv">7</span>  E02005109 Shepway <span class="dv">008</span>     Saltwood, Seabrook <span class="sc">&amp;</span> Etchinghill E07000112 Shepway</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="dv">8</span>  E02005110 Shepway <span class="dv">009</span>                    Lympne <span class="sc">&amp;</span> Palmarsh E07000112 Shepway</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="dv">9</span>  E02005111 Shepway <span class="dv">010</span>                                Hythe E07000112 Shepway</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="dv">10</span> E02005112 Shepway <span class="dv">011</span> Dymchurch, St Mary<span class="st">'s Bay &amp; Brookland E07000112 Shepway</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="st">                         geometry</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="st">1  POLYGON ((1.089762 51.18973...</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="st">2  POLYGON ((1.170835 51.13259...</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="st">3  POLYGON ((1.184798 51.09985...</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="st">4  POLYGON ((1.189394 51.08954...</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="st">5  POLYGON ((1.135277 51.09801...</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="st">6  POLYGON ((1.17032 51.0953, ...</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="st">7  POLYGON ((1.111727 51.12941...</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="st">8  POLYGON ((1.000461 51.1184,...</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="st">9  POLYGON ((1.062613 51.07642...</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="st">10 POLYGON ((0.9884286 51.0706...</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="alternative-ways-to-achieve-a-goal">Alternative ways to achieve a goal<a class="anchor" aria-label="anchor" href="#alternative-ways-to-achieve-a-goal"></a>
</h3>
<p>In this case, the first option is notably quicker than the second, because they use different tables to create the lookup table.</p>
<p>The second option fails to return boundaries unless the year option is included, as it creates a lookup table for rgn23 and ctry23 but boundaries are not available for rgn23 (only rgn22).</p>
<p>Different columns are returned by each command.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span><span class="st">"rgn"</span>, country_filter <span class="op">=</span> <span class="st">"EN"</span>, resolution <span class="op">=</span> <span class="st">"BUC"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>Simple feature collection with <span class="dv">9</span> features and <span class="dv">2</span> fields</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>Geometry type<span class="sc">:</span> MULTIPOLYGON</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>Dimension<span class="sc">:</span>     XY</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>Bounding box<span class="sc">:</span>  xmin<span class="sc">:</span> <span class="sc">-</span><span class="fl">6.360297</span> ymin<span class="sc">:</span> <span class="fl">49.88234</span> xmax<span class="sc">:</span> <span class="fl">1.763706</span> ymax<span class="sc">:</span> <span class="fl">55.81121</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>Geodetic CRS<span class="sc">:</span>  WGS <span class="dv">84</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>    rgn23cd                  rgn23nm                       geometry</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="dv">1</span> E12000001               North East <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">1.401114</span> <span class="dv">5</span>...</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="dv">2</span> E12000002               North West <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.242936</span> <span class="dv">5</span>...</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="dv">3</span> E12000003 Yorkshire and The Humber <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">0.5207704</span> ...</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="dv">4</span> E12000004            East Midlands <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">0.248476</span> <span class="dv">5</span>...</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="dv">5</span> E12000005            West Midlands <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">1.860821</span> <span class="dv">5</span>...</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="dv">6</span> E12000006          East of England <span class="fu">MULTIPOLYGON</span> (((<span class="fl">0.6458286</span> <span class="dv">5</span>...</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="dv">7</span> E12000007                   London <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="dv">0</span>.<span class="dv">01191868</span>...</span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="dv">8</span> E12000008               South East <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">1.55515</span> <span class="dv">50</span>...</span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="dv">9</span> E12000009               South West <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">6.349051</span> <span class="dv">4</span>...</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span><span class="st">"region"</span>, <span class="st">"country"</span>, <span class="st">"England"</span>, lookup_year <span class="op">=</span> <span class="fl">2022</span>, resolution <span class="op">=</span> <span class="st">"BUC"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>Simple feature collection with <span class="dv">9</span> features and <span class="dv">4</span> fields</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>Geometry type<span class="sc">:</span> MULTIPOLYGON</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>Dimension<span class="sc">:</span>     XY</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>Bounding box<span class="sc">:</span>  xmin<span class="sc">:</span> <span class="sc">-</span><span class="fl">6.360297</span> ymin<span class="sc">:</span> <span class="fl">49.88234</span> xmax<span class="sc">:</span> <span class="fl">1.763706</span> ymax<span class="sc">:</span> <span class="fl">55.81121</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>Geodetic CRS<span class="sc">:</span>  WGS <span class="dv">84</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>    rgn22cd                  rgn22nm  ctry22cd ctry22nm</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="dv">1</span> E12000001               North East E92000001  England</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="dv">2</span> E12000002               North West E92000001  England</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="dv">3</span> E12000003 Yorkshire and The Humber E92000001  England</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="dv">4</span> E12000004            East Midlands E92000001  England</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="dv">5</span> E12000005            West Midlands E92000001  England</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="dv">6</span> E12000006          East of England E92000001  England</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="dv">7</span> E12000007                   London E92000001  England</span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="dv">8</span> E12000008               South East E92000001  England</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="dv">9</span> E12000009               South West E92000001  England</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a>                        geometry</span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="dv">1</span> <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">1.779088</span> <span class="dv">5</span>...</span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a><span class="dv">2</span> <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.242936</span> <span class="dv">5</span>...</span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a><span class="dv">3</span> <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">0.5207704</span> ...</span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a><span class="dv">4</span> <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">0.248476</span> <span class="dv">5</span>...</span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="dv">5</span> <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">1.860732</span> <span class="dv">5</span>...</span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a><span class="dv">6</span> <span class="fu">MULTIPOLYGON</span> (((<span class="fl">0.8374914</span> <span class="dv">5</span>...</span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a><span class="dv">7</span> <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="dv">0</span>.<span class="dv">01191868</span>...</span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a><span class="dv">8</span> <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">1.55515</span> <span class="dv">50</span>...</span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a><span class="dv">9</span> <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">6.349051</span> <span class="dv">4</span>...</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="you-can-just-request-bare-lookup-tables---no-spatial-data-attached">You can just request bare lookup tables - no spatial data attached<a class="anchor" aria-label="anchor" href="#you-can-just-request-bare-lookup-tables---no-spatial-data-attached"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/create_lookup_table.html">create_lookup_table</a></span><span class="op">(</span><span class="st">"spc"</span>, <span class="st">"spr"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># A tibble: 73 × 4</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>   spc23cd   spc23nm                        spr23cd   spr23nm              </span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                          <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                </span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a> <span class="dv">1</span> S16000083 Argyll and Bute                S17000011 Highlands and Islands</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a> <span class="dv">2</span> S16000086 Caithness, Sutherland and Ross S17000011 Highlands and Islands</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a> <span class="dv">3</span> S16000110 Na h<span class="sc">-</span>Eileanan an Iar           S17000011 Highlands and Islands</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a> <span class="dv">4</span> S16000125 Inverness and Nairn            S17000011 Highlands and Islands</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a> <span class="dv">5</span> S16000132 Moray                          S17000011 Highlands and Islands</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a> <span class="dv">6</span> S16000135 Orkney Islands                 S17000011 Highlands and Islands</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a> <span class="dv">7</span> S16000142 Shetland Islands               S17000011 Highlands and Islands</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a> <span class="dv">8</span> S16000143 Skye, Lochaber and Badenoch    S17000011 Highlands and Islands</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a> <span class="dv">9</span> S16000080 Almond Valley                  S17000012 Lothian              </span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="dv">10</span> S16000104 Edinburgh Central              S17000012 Lothian              </span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="co"># ℹ 63 more rows</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="a-lookup-table-for-welsh-local-authorities-to-senedd-electoral-regions">A lookup table for Welsh local authorities to Senedd electoral regions<a class="anchor" aria-label="anchor" href="#a-lookup-table-for-welsh-local-authorities-to-senedd-electoral-regions"></a>
</h3>
<p>Sometimes boundr needs a little help finding what you are looking for. Supplying a year or country filter can help get the right table.</p>
<p>Using <code>return_with = "full"</code> includes all available columns, not just those referred to by the <code>lookup</code> and <code>within</code> arguments.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This doesn't succeed:</span></span>
<span><span class="co"># create_lookup_table("wd", "sener")</span></span>
<span></span>
<span><span class="co"># supplying a year helps:</span></span>
<span><span class="fu"><a href="reference/create_lookup_table.html">create_lookup_table</a></span><span class="op">(</span><span class="st">"wd"</span>, <span class="st">"sener"</span>, lookup_year <span class="op">=</span> <span class="fl">2023</span>, return_width <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># A tibble: 764 × 9</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>   wd23cd    wd23nm wd23nmw ua23cd ua23nm ua23nmw sener23cd sener23nm sener23nmw</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     </span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a> <span class="dv">1</span> W05001715 Bango… Bangor… W0600… Wrexh… Wrecsam W10000001 North Wa… Gogledd C…</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a> <span class="dv">2</span> W05001714 Acton… Gwauny… W0600… Wrexh… Wrecsam W10000001 North Wa… Gogledd C…</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a> <span class="dv">3</span> W05001713 Acref… Gogled… W0600… Wrexh… Wrecsam W10000001 North Wa… Gogledd C…</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a> <span class="dv">4</span> W05001615 Whitf… Chwitf… W0600… Flint… Sir y … W10000001 North Wa… Gogledd C…</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a> <span class="dv">5</span> W05001614 Treud… Treudd… W0600… Flint… Sir y … W10000001 North Wa… Gogledd C…</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a> <span class="dv">6</span> W05001613 Shott… Gorlle… W0600… Flint… Sir y … W10000001 North Wa… Gogledd C…</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a> <span class="dv">7</span> W05001612 Shott… Dwyrai… W0600… Flint… Sir y … W10000001 North Wa… Gogledd C…</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a> <span class="dv">8</span> W05001611 Saltn… Saltne… W0600… Flint… Sir y … W10000001 North Wa… Gogledd C…</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a> <span class="dv">9</span> W05001610 Queen… Queens… W0600… Flint… Sir y … W10000001 North Wa… Gogledd C…</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="dv">10</span> W05001609 Pen<span class="sc">-</span>y… Pen<span class="sc">-</span>y<span class="sc">-</span>… W0600… Flint… Sir y … W10000001 North Wa… Gogledd C…</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="co"># ℹ 754 more rows</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># or a country filter:</span></span>
<span><span class="fu"><a href="reference/create_lookup_table.html">create_lookup_table</a></span><span class="op">(</span><span class="st">"wd"</span>, <span class="st">"sener"</span>, country_filter <span class="op">=</span> <span class="st">"WA"</span>, return_width <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">sener23nm</span> <span class="op">==</span> <span class="st">"South Wales West"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># A tibble: 4 × 9</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  wd23cd    wd23nm  wd23nmw ua23cd ua23nm ua23nmw sener23cd sener23nm sener23nmw</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     </span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="dv">1</span> W05001099 Pontyc… Gorlle… W0600… Rhond… Rhondd… W10000009 South Wa… Gorllewin…</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="dv">2</span> W05001088 Llanha… Llanha… W0600… Rhond… Rhondd… W10000009 South Wa… Gorllewin…</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="dv">3</span> W05001084 Glyn<span class="sc">-</span>c… Glyn<span class="sc">-</span>c… W0600… Rhond… Rhondd… W10000009 South Wa… Gorllewin…</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="dv">4</span> W05001076 Brynna… Brynna… W0600… Rhond… Rhondd… W10000009 South Wa… Gorllewin…</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-sfc-tibble-is-ready-to-be-passed-to-a-mapping-tool-like-tmapqtm">The sfc tibble is ready to be passed to a mapping tool like <code>tmap::qtm()</code>:<a class="anchor" aria-label="anchor" href="#the-sfc-tibble-is-ready-to-be-passed-to-a-mapping-tool-like-tmapqtm"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span><span class="st">"parish"</span>, <span class="st">"lad"</span>, <span class="st">"Isles of Scilly"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tmap</span><span class="fu">::</span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tmap</span><span class="fu">::</span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_polygons.html" class="external-link">tm_polygons</a></span><span class="op">(</span></span>
<span>    col <span class="op">=</span> <span class="st">"par23nm"</span>,</span>
<span>    palette <span class="op">=</span> <span class="st">"-Accent"</span>,</span>
<span>    legend.show <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    border.col <span class="op">=</span> <span class="st">"grey40"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tmap</span><span class="fu">::</span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_layout.html" class="external-link">tm_style</a></span><span class="op">(</span><span class="st">"natural"</span>, bg.color <span class="op">=</span> <span class="st">"#7cb7bb"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-6-1.png"></p>
</div>
<div class="section level3">
<h3 id="bounds-now-supports-a-shortcut-which-will-return-all-bounds-for-a-certain-level-without-having-to-specify-a-within-argument">bounds now supports a shortcut which will return all bounds for a certain level, without having to specify a ‘within’ argument<a class="anchor" aria-label="anchor" href="#bounds-now-supports-a-shortcut-which-will-return-all-bounds-for-a-certain-level-without-having-to-specify-a-within-argument"></a>
</h3>
<p>Take care - you might download a lot of data doing this!</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span><span class="st">"spr"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>Simple feature collection with <span class="dv">8</span> features and <span class="dv">2</span> fields</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>Geometry type<span class="sc">:</span> MULTIPOLYGON</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>Dimension<span class="sc">:</span>     XY</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>Bounding box<span class="sc">:</span>  xmin<span class="sc">:</span> <span class="sc">-</span><span class="fl">8.649996</span> ymin<span class="sc">:</span> <span class="fl">54.63326</span> xmax<span class="sc">:</span> <span class="sc">-</span><span class="fl">0.7246158</span> ymax<span class="sc">:</span> <span class="fl">60.86077</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>Geodetic CRS<span class="sc">:</span>  WGS <span class="dv">84</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>    spr22cd               spr22nm                       geometry</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="dv">1</span> S17000011 Highlands and Islands <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">5.572266</span> <span class="dv">5</span>...</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="dv">2</span> S17000012               Lothian <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.17174</span> <span class="dv">55</span>...</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="dv">3</span> S17000013 Mid Scotland and Fife <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.302574</span> <span class="dv">5</span>...</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="dv">4</span> S17000014   North East Scotland <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">2.531457</span> <span class="dv">5</span>...</span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="dv">5</span> S17000015        South Scotland <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">4.085281</span> <span class="dv">5</span>...</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="dv">6</span> S17000018         West Scotland <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">5.118861</span> <span class="dv">5</span>...</span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="dv">7</span> S17000019      Central Scotland <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">3.795887</span> <span class="dv">5</span>...</span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="dv">8</span> S17000020               Glasgow <span class="fu">MULTIPOLYGON</span> (((<span class="sc">-</span><span class="fl">4.271141</span> <span class="dv">5</span>...</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-points-function-returns-area-population-weighted-centroids-where-available">The points() function returns area (population-weighted) centroids where available<a class="anchor" aria-label="anchor" href="#the-points-function-returns-area-population-weighted-centroids-where-available"></a>
</h3>
<p>(Check the OpenGeography website).</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sb</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span><span class="st">"msoa"</span>, <span class="st">"lad"</span>, <span class="st">"Swindon"</span><span class="op">)</span></span>
<span><span class="va">sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/points.html">points</a></span><span class="op">(</span><span class="st">"msoa"</span>, <span class="st">"utla"</span>, <span class="st">"Swindon"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sb</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"grey33"</span>, fill <span class="op">=</span> <span class="st">"grey95"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">sp</span>, colour <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-8-1.png"></p>
</div>
<div class="section level3">
<h3 id="a-ggplot2-example">A ggplot2 example<a class="anchor" aria-label="anchor" href="#a-ggplot2-example"></a>
</h3>
<p>Here we specify a ‘within_names’ argument alongside the ‘lookup’ argument. There’s no ‘within’ argument to be specified because there’s nothing to lookup. (There aren’t any lookup tables for National Parks - just the boundaries).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span><span class="st">"npark"</span>, within_names <span class="op">=</span> <span class="st">"Bannau Brycheiniog"</span>, resolution <span class="op">=</span> <span class="st">"BUC"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-9-1.png"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># https://github.com/francisbarton/mapirosa</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">mapirosa</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># https://dieghernan.github.io/tidyterra/reference/geom_spatraster_rgb.html</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dieghernan.github.io/tidyterra/" class="external-link">tidyterra</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bounds.html">bounds</a></span><span class="op">(</span></span>
<span>  <span class="st">"npark"</span>,</span>
<span>  within_names <span class="op">=</span> <span class="st">"Bannau Brycheiniog"</span>,</span>
<span>  resolution <span class="op">=</span> <span class="st">"BUC"</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">27700</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">bb_basemap</span> <span class="op">&lt;-</span> <span class="fu">mapirosa</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapirosa/man/build_basemap.html" class="external-link">build_basemap</a></span><span class="op">(</span></span>
<span>  bbox <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></span><span class="op">(</span><span class="va">bb</span><span class="op">)</span>,</span>
<span>  zoom <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  style <span class="op">=</span> <span class="st">"outdoor"</span>,</span>
<span>  squarify <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">27700</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">bb</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tidyterra</span><span class="fu">::</span><span class="fu"><a href="https://dieghernan.github.io/tidyterra/reference/geom_spatraster_rgb.html" class="external-link">geom_spatraster_rgb</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">bb_basemap</span>,</span>
<span>    maxcell <span class="op">=</span> <span class="fl">1e7</span>,</span>
<span>    max_col_value <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"coral"</span>, fill <span class="op">=</span> <span class="st">"aquamarine"</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-10-1.png"></p>
</div>
<div class="section level3">
<h3 id="aliases">Aliases<a class="anchor" aria-label="anchor" href="#aliases"></a>
</h3>
<p>For certain geographic levels you can supply a more human-friendly alias, so you don’t need to remember the abbreviated prefix.</p>
<table class="table">
<thead><tr class="header">
<th>alias</th>
<th>actual argument (geo prefix) used</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>parish</td>
<td>par</td>
</tr>
<tr class="even">
<td>ward</td>
<td>wd</td>
</tr>
<tr class="odd">
<td>region</td>
<td>rgn</td>
</tr>
<tr class="even">
<td>county</td>
<td>cty</td>
</tr>
<tr class="odd">
<td>country</td>
<td>ctry</td>
</tr>
</tbody>
</table>
<p>Ideas for other useful aliases happily received.</p>
</div>
</div>
<div class="section level2">
<h2 id="package-internal-structure">Package internal structure<a class="anchor" aria-label="anchor" href="#package-internal-structure"></a>
</h2>
<p>The structure of the project looks a bit like this:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">bounds</span>() <span class="sc">/</span> <span class="fu">points</span>() [main UI functions]</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>   <span class="sc">^</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>   <span class="er">|</span></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>   <span class="er">|</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>    <span class="er">&lt;</span><span class="sc">-------</span>  <span class="fu">create_lookup_table</span>() [available to the user]</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>   <span class="sc">|</span>                <span class="er">^</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>   <span class="er">|</span>                <span class="er">|</span></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>   <span class="er">|</span>                 <span class="er">&lt;</span><span class="sc">---------</span> <span class="fu">return_query_data</span>()</span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>   <span class="sc">|</span>                <span class="er">|</span></span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a>   <span class="er">|</span>                 <span class="er">&lt;</span><span class="sc">---------</span> <span class="fu">return_lookup_query_info</span>() </span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a>   <span class="sc">|</span>                                       \</span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a>   <span class="sc">|</span>                                        \</span>
<span id="cb21-13"><a href="#cb21-13" tabindex="-1"></a>    <span class="ot">&lt;-</span><span class="sc">------</span>  <span class="fu">return_spatial_data</span>()           <span class="ot">&lt;-</span><span class="sc">----</span> opengeo_schema [data]</span>
<span id="cb21-14"><a href="#cb21-14" tabindex="-1"></a>                    <span class="sc">^</span>                       <span class="er">/</span>              <span class="er">^</span></span>
<span id="cb21-15"><a href="#cb21-15" tabindex="-1"></a>                    <span class="er">|</span>                      <span class="er">/</span>               <span class="er">|</span></span>
<span id="cb21-16"><a href="#cb21-16" tabindex="-1"></a>                     <span class="er">&lt;</span><span class="sc">--------</span>  <span class="fu">pull_geo_query_url</span>()       <span class="sc">|</span></span>
<span id="cb21-17"><a href="#cb21-17" tabindex="-1"></a>                                                           <span class="er">|</span></span>
<span id="cb21-18"><a href="#cb21-18" tabindex="-1"></a>                                                     <span class="fu">build_schema</span>()</span></code></pre></div>
<p>When you call <code><a href="reference/bounds.html">bounds()</a></code> you specify a lower level area (eg ward) and a higher level area (eg local authority), and you specify either the name of the higher level area (or areas) or its code.</p>
<p><code><a href="reference/return_lookup_query_info.html">return_lookup_query_info()</a></code> then finds the API query URL of a suitable lookup table - one that contains columns for both your lower and higher level areas. It does this by filtering <code>opengeo_schema</code>, which is a cached copy of the various datasets available from the Open Geography API Services list. This schema is available as internal data in the package - but may need updating.</p>
<p><code><a href="reference/create_lookup_table.html">create_lookup_table()</a></code> then builds a lookup table (a tibble) based on all the areas you have said you are interested in. At the same time, <code><a href="reference/return_spatial_data.html">return_spatial_data()</a></code> will - if you have specified you want spatial boundaries data for your areas - retrieve the boundary data at your chosen resolution for your lower level areas. These will then be joined onto the lookup table and provided to you as an <code>sfc</code> tibble.</p>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Suggestions for improvements are welcome, preferably posted as an issue here on GitHub. Contributions as pull requests are also welcome.</p>
<p>Please note that <code>boundr</code> is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="news">News<a class="anchor" aria-label="anchor" href="#news"></a>
</h2>
<p>See <a href="NEWS.html">NEWS.md</a> for version notes.</p>
<p><code>boundr</code> was previously <a href="https://github.com/francisbarton/jogger" class="external-link"><code>jogger</code></a>.</p>
<div class="section level3">
<h3 id="licences">Licences<a class="anchor" aria-label="anchor" href="#licences"></a>
</h3>
<p>The code in this repo is MIT licensed.</p>
<p>The data that the code helps you retrieve is issued under a variety of licences, including:</p>
<ul>
<li>the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" class="external-link">Open Government Licence v3.0</a>
</li>
</ul>
<blockquote>
<p>Licensing statement <a href="https://www.ons.gov.uk/methodology/geography/licences" class="external-link">as stipulated by the ONS</a>:</p>
<ul>
<li>Source: Office for National Statistics licensed under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" class="external-link">Open Government Licence v3.0</a>
</li>
<li>Contains OS data © Crown copyright and database right 2024</li>
</ul>
</blockquote>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://codeberg.org/francisbarton/boundr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
<li><a href="SUPPORT.html">Getting help</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing boundr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Francis Barton <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5650-1176" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francis Barton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
