<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Use an existing tibble as the basis for a spatial query — add_geometry_to_table • boundr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Use an existing tibble as the basis for a spatial query — add_geometry_to_table"><meta name="description" content="If you have a tibble such as those produced by create_lookup_table() -
that is, there is a column of geographical ONS codes ending in 'cd' -
simply use this table as the basis for retrieving the relevant boundaries."><meta property="og:description" content="If you have a tibble such as those produced by create_lookup_table() -
that is, there is a column of geographical ONS codes ending in 'cd' -
simply use this table as the basis for retrieving the relevant boundaries."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">boundr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Use an existing tibble as the basis for a spatial query</h1>

      <div class="d-none name"><code>add_geometry_to_table.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>If you have a tibble such as those produced by <code><a href="create_lookup_table.html">create_lookup_table()</a></code> -
that is, there is a column of geographical ONS codes ending in 'cd' -
simply use this table as the basis for retrieving the relevant boundaries.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_geometry_to_table</span><span class="op">(</span></span>
<span>  <span class="va">tbl</span>,</span>
<span>  points <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  lookup <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geo_code_field <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">4326</span>,</span>
<span>  resolution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BGC"</span>, <span class="st">"BSC"</span>, <span class="st">"BUC"</span>, <span class="st">"BFC"</span>, <span class="st">"BFE"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tbl">tbl<a class="anchor" aria-label="anchor" href="#arg-tbl"></a></dt>
<dd><p>A tibble with a column for geographical codes. This function will
use the lefthand-most column ending in 'cd' by default as the basis for
retrieving boundary or point data</p></dd>


<dt id="arg-points">points<a class="anchor" aria-label="anchor" href="#arg-points"></a></dt>
<dd><p>Whether to retrieve area centroids (TRUE) or area boundaries
(FALSE, the default)</p></dd>


<dt id="arg-lookup">lookup<a class="anchor" aria-label="anchor" href="#arg-lookup"></a></dt>
<dd><p>character. Lower level area code eg "lsoa", "wd", "lad".
Equivalent to the <code>lookup</code> parameter in <code><a href="bounds.html">bounds()</a></code>.</p></dd>


<dt id="arg-geo-code-field">geo_code_field<a class="anchor" aria-label="anchor" href="#arg-geo-code-field"></a></dt>
<dd><p>character The column name from <code>tbl</code> for which you
wish to retrieve spatial data. By default, <code>add_bounds_to_table()</code> will use
the lefthand-most column that ends in "cd"</p></dd>


<dt id="arg-crs">crs<a class="anchor" aria-label="anchor" href="#arg-crs"></a></dt>
<dd><p>the Coordinate Reference System (CRS) code to use. 4326 by
default.</p></dd>


<dt id="arg-resolution">resolution<a class="anchor" aria-label="anchor" href="#arg-resolution"></a></dt>
<dd><p>character. See argument options for available options. How
generalised should the boundary be, and whether coastal boundaries should
adhere to the coastline or to the full territorial extent. BGC by default
(G = Generalised (20m), C = limited to the coastline.) F indicates Full
resolution; S indicates Super-generalised (200m); U indicates Ultra-
generalised (500m) boundary resolution. Use E instead of C for full
extent boundaries (e.g. BFE). Not all combinations are available.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If successful, will return the initial table with an additional
geometry column added. Duplicate rows will be removed.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francis Barton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

